name = "jira-context-mcp"
main = "src/runtimes/worker/entry.ts"
compatibility_date = "2025-08-13"
workers_dev = true
preview_urls = true

[assets]
directory = "./auth-ui/dist"
binding = "AUTH_UI_ASSETS"
run_worker_first = true

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1

[[durable_objects.bindings]]
name = "JIRA_MCP_SESSIONS"
class_name = "JiraMcpSessionDurableObject"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["JiraMcpSessionDurableObject"]

[[routes]]
pattern = "jira-mcp-server.creax-ai.com/*"
zone_name = "creax-ai.com"

[[d1_databases]]
binding = "AUTH_DB"
database_name = "jira_mcp_auth"
database_id = "21c65b15-8901-496c-9460-c29da1318b2c"

[env.preview]
name = "jira-context-mcp-preview"
workers_dev = true
preview_urls = true
routes = []

[env.preview.assets]
directory = "./auth-ui/dist"
binding = "AUTH_UI_ASSETS"
run_worker_first = true

[[env.preview.durable_objects.bindings]]
name = "JIRA_MCP_SESSIONS"
class_name = "JiraMcpSessionDurableObject"

[[env.preview.migrations]]
tag = "v1"
new_sqlite_classes = ["JiraMcpSessionDurableObject"]

[[env.preview.d1_databases]]
binding = "AUTH_DB"
database_name = "jira_mcp_auth"
database_id = "21c65b15-8901-496c-9460-c29da1318b2c"
